\hypertarget{system__stm32f10x_8c_source}{}\doxysection{system\+\_\+stm32f10x.\+c}
\label{system__stm32f10x_8c_source}\index{BLUE\_LIB/src/system\_stm32f10x.c@{BLUE\_LIB/src/system\_stm32f10x.c}}
\mbox{\hyperlink{system__stm32f10x_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00001}00001 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00065}00065 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{stm32f10x_8h}{stm32f10x.h}}"{}}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00066}00066 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00106}00106 \textcolor{preprocessor}{\#if defined (STM32F10X\_LD\_VL) || (defined STM32F10X\_MD\_VL) || (defined STM32F10X\_HD\_VL)}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00107}00107 \textcolor{comment}{/* \#define SYSCLK\_FREQ\_HSE    HSE\_VALUE */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00108}00108 \textcolor{preprocessor}{ \#define SYSCLK\_FREQ\_24MHz  24000000}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00109}00109 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00110}00110 \textcolor{comment}{/* \#define SYSCLK\_FREQ\_HSE    HSE\_VALUE */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00111}00111 \textcolor{comment}{/* \#define SYSCLK\_FREQ\_24MHz  24000000 */} }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00112}00112 \textcolor{comment}{/* \#define SYSCLK\_FREQ\_36MHz  36000000 */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00113}00113 \textcolor{comment}{/* \#define SYSCLK\_FREQ\_48MHz  48000000 */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00114}00114 \textcolor{comment}{/* \#define SYSCLK\_FREQ\_56MHz  56000000 */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00115}00115 \textcolor{preprocessor}{\#define SYSCLK\_FREQ\_72MHz  72000000}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00116}00116 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00117}00117 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00121}00121 \textcolor{preprocessor}{\#if defined (STM32F10X\_HD) || (defined STM32F10X\_XL) || (defined STM32F10X\_HD\_VL)}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00122}00122 \textcolor{comment}{/* \#define DATA\_IN\_ExtSRAM */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00123}00123 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00124}00124 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00127}00127 \textcolor{comment}{/* \#define VECT\_TAB\_SRAM */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00128}00128 \textcolor{preprocessor}{\#define VECT\_TAB\_OFFSET  0x0 }}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00148}00148 \textcolor{comment}{/*******************************************************************************}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00149}00149 \textcolor{comment}{*  Clock Definitions}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00150}00150 \textcolor{comment}{*******************************************************************************/}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00151}00151 \textcolor{preprocessor}{\#ifdef SYSCLK\_FREQ\_HSE}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00152}00152   uint32\_t \mbox{\hyperlink{group__STM32F10x__System__Private__Variables_gaa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}}         = SYSCLK\_FREQ\_HSE;        }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00153}00153 \textcolor{preprocessor}{\#elif defined SYSCLK\_FREQ\_24MHz}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00154}00154   uint32\_t \mbox{\hyperlink{group__STM32F10x__System__Private__Variables_gaa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}}         = SYSCLK\_FREQ\_24MHz;        }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00155}00155 \textcolor{preprocessor}{\#elif defined SYSCLK\_FREQ\_36MHz}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00156}00156   uint32\_t \mbox{\hyperlink{group__STM32F10x__System__Private__Variables_gaa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}}         = SYSCLK\_FREQ\_36MHz;        }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00157}00157 \textcolor{preprocessor}{\#elif defined SYSCLK\_FREQ\_48MHz}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00158}00158   uint32\_t \mbox{\hyperlink{group__STM32F10x__System__Private__Variables_gaa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}}         = SYSCLK\_FREQ\_48MHz;        }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00159}00159 \textcolor{preprocessor}{\#elif defined SYSCLK\_FREQ\_56MHz}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00160}00160   uint32\_t \mbox{\hyperlink{group__STM32F10x__System__Private__Variables_gaa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}}         = SYSCLK\_FREQ\_56MHz;        }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00161}00161 \textcolor{preprocessor}{\#elif defined SYSCLK\_FREQ\_72MHz}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00162}\mbox{\hyperlink{group__STM32F10x__System__Exported__types_gaa3cd3e43291e81e795d642b79b6088e6}{00162}}   uint32\_t \mbox{\hyperlink{group__STM32F10x__System__Private__Variables_gaa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}}         = \mbox{\hyperlink{group__STM32F10x__System__Private__Defines_ga69649cc38f34627cfb48b51062ebd390}{SYSCLK\_FREQ\_72MHz}};        }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00163}00163 \textcolor{preprocessor}{\#else }}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00164}00164   uint32\_t \mbox{\hyperlink{group__STM32F10x__System__Private__Variables_gaa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}}         = \mbox{\hyperlink{group__Library__configuration__section_gaaa8c76e274d0f6dd2cefb5d0b17fbc37}{HSI\_VALUE}};        }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00165}00165 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00166}00166 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00167}00167 \mbox{\hyperlink{core__cm3_8h_af63697ed9952cc71e1225efe205f6cd3}{\_\_I}} uint8\_t AHBPrescTable[16] = \{0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 3, 4, 6, 7, 8, 9\};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00176}00176 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetSysClock(\textcolor{keywordtype}{void});}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00177}00177 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00178}00178 \textcolor{preprocessor}{\#ifdef SYSCLK\_FREQ\_HSE}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00179}00179   \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetSysClockToHSE(\textcolor{keywordtype}{void});}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00180}00180 \textcolor{preprocessor}{\#elif defined SYSCLK\_FREQ\_24MHz}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00181}00181   \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetSysClockTo24(\textcolor{keywordtype}{void});}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00182}00182 \textcolor{preprocessor}{\#elif defined SYSCLK\_FREQ\_36MHz}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00183}00183   \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetSysClockTo36(\textcolor{keywordtype}{void});}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00184}00184 \textcolor{preprocessor}{\#elif defined SYSCLK\_FREQ\_48MHz}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00185}00185   \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetSysClockTo48(\textcolor{keywordtype}{void});}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00186}00186 \textcolor{preprocessor}{\#elif defined SYSCLK\_FREQ\_56MHz}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00187}00187   \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetSysClockTo56(\textcolor{keywordtype}{void});  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00188}00188 \textcolor{preprocessor}{\#elif defined SYSCLK\_FREQ\_72MHz}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00189}00189   \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetSysClockTo72(\textcolor{keywordtype}{void});}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00190}00190 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00191}00191 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00192}00192 \textcolor{preprocessor}{\#ifdef DATA\_IN\_ExtSRAM}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00193}00193   \textcolor{keyword}{static} \textcolor{keywordtype}{void} SystemInit\_ExtMemCtl(\textcolor{keywordtype}{void}); }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00194}00194 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* DATA\_IN\_ExtSRAM */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00195}00195 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00212}\mbox{\hyperlink{group__STM32F10x__System__Exported__Functions_ga93f514700ccf00d08dbdcff7f1224eb2}{00212}} \textcolor{keywordtype}{void} \mbox{\hyperlink{group__STM32F10x__System__Private__Functions_ga93f514700ccf00d08dbdcff7f1224eb2}{SystemInit}} (\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00213}00213 \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00214}00214   \textcolor{comment}{/* Reset the RCC clock configuration to the default reset state(for debug purpose) */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00215}00215   \textcolor{comment}{/* Set HSION bit */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00216}00216   RCC-\/>CR |= (uint32\_t)0x00000001;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00217}00217 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00218}00218   \textcolor{comment}{/* Reset SW, HPRE, PPRE1, PPRE2, ADCPRE and MCO bits */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00219}00219 \textcolor{preprocessor}{\#ifndef STM32F10X\_CL}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00220}00220   RCC-\/>CFGR \&= (uint32\_t)0xF8FF0000;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00221}00221 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00222}00222   RCC-\/>CFGR \&= (uint32\_t)0xF0FF0000;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00223}00223 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* STM32F10X\_CL */}\textcolor{preprocessor}{   }}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00224}00224   }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00225}00225   \textcolor{comment}{/* Reset HSEON, CSSON and PLLON bits */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00226}00226   RCC-\/>CR \&= (uint32\_t)0xFEF6FFFF;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00227}00227 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00228}00228   \textcolor{comment}{/* Reset HSEBYP bit */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00229}00229   RCC-\/>CR \&= (uint32\_t)0xFFFBFFFF;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00230}00230 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00231}00231   \textcolor{comment}{/* Reset PLLSRC, PLLXTPRE, PLLMUL and USBPRE/OTGFSPRE bits */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00232}00232   RCC-\/>CFGR \&= (uint32\_t)0xFF80FFFF;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00233}00233 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00234}00234 \textcolor{preprocessor}{\#ifdef STM32F10X\_CL}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00235}00235   \textcolor{comment}{/* Reset PLL2ON and PLL3ON bits */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00236}00236   RCC-\/>CR \&= (uint32\_t)0xEBFFFFFF;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00237}00237 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00238}00238   \textcolor{comment}{/* Disable all interrupts and clear pending bits  */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00239}00239   RCC-\/>CIR = 0x00FF0000;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00240}00240 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00241}00241   \textcolor{comment}{/* Reset CFGR2 register */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00242}00242   RCC-\/>CFGR2 = 0x00000000;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00243}00243 \textcolor{preprocessor}{\#elif defined (STM32F10X\_LD\_VL) || defined (STM32F10X\_MD\_VL) || (defined STM32F10X\_HD\_VL)}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00244}00244   \textcolor{comment}{/* Disable all interrupts and clear pending bits  */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00245}00245   RCC-\/>CIR = 0x009F0000;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00246}00246 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00247}00247   \textcolor{comment}{/* Reset CFGR2 register */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00248}00248   RCC-\/>CFGR2 = 0x00000000;      }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00249}00249 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00250}00250   \textcolor{comment}{/* Disable all interrupts and clear pending bits  */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00251}00251   RCC-\/>CIR = 0x009F0000;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00252}00252 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* STM32F10X\_CL */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00253}00253     }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00254}00254 \textcolor{preprocessor}{\#if defined (STM32F10X\_HD) || (defined STM32F10X\_XL) || (defined STM32F10X\_HD\_VL)}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00255}00255 \textcolor{preprocessor}{  \#ifdef DATA\_IN\_ExtSRAM}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00256}00256     SystemInit\_ExtMemCtl(); }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00257}00257 \textcolor{preprocessor}{  \#endif }\textcolor{comment}{/* DATA\_IN\_ExtSRAM */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00258}00258 \textcolor{preprocessor}{\#endif }}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00259}00259 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00260}00260   \textcolor{comment}{/* Configure the System clock frequency, HCLK, PCLK2 and PCLK1 prescalers */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00261}00261   \textcolor{comment}{/* Configure the Flash Latency cycles and enable prefetch buffer */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00262}00262   SetSysClock();}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00263}00263 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00264}00264 \textcolor{preprocessor}{\#ifdef VECT\_TAB\_SRAM}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00265}00265   \mbox{\hyperlink{group__CMSIS__core__base_gaaaf6477c2bde2f00f99e3c2fd1060b01}{SCB}}-\/>VTOR = \mbox{\hyperlink{group__Peripheral__memory__map_ga05e8f3d2e5868754a7cd88614955aecc}{SRAM\_BASE}} | \mbox{\hyperlink{group__STM32F10x__System__Private__Defines_ga40e1495541cbb4acbe3f1819bd87a9fe}{VECT\_TAB\_OFFSET}}; \textcolor{comment}{/* Vector Table Relocation in Internal SRAM. */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00266}00266 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00267}00267   \mbox{\hyperlink{group__CMSIS__core__base_gaaaf6477c2bde2f00f99e3c2fd1060b01}{SCB}}-\/>VTOR = \mbox{\hyperlink{group__Peripheral__memory__map_ga23a9099a5f8fc9c6e253c0eecb2be8db}{FLASH\_BASE}} | \mbox{\hyperlink{group__STM32F10x__System__Private__Defines_ga40e1495541cbb4acbe3f1819bd87a9fe}{VECT\_TAB\_OFFSET}}; \textcolor{comment}{/* Vector Table Relocation in Internal FLASH. */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00268}00268 \textcolor{preprocessor}{\#endif }}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00269}00269 \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00270}00270 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00306}\mbox{\hyperlink{group__STM32F10x__System__Exported__Functions_gae0c36a9591fe6e9c45ecb21a794f0f0f}{00306}} \textcolor{keywordtype}{void} \mbox{\hyperlink{group__STM32F10x__System__Private__Functions_gae0c36a9591fe6e9c45ecb21a794f0f0f}{SystemCoreClockUpdate}} (\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00307}00307 \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00308}00308   uint32\_t tmp = 0, pllmull = 0, pllsource = 0;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00309}00309 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00310}00310 \textcolor{preprocessor}{\#ifdef  STM32F10X\_CL}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00311}00311   uint32\_t prediv1source = 0, prediv1factor = 0, prediv2factor = 0, pll2mull = 0;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00312}00312 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* STM32F10X\_CL */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00313}00313 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00314}00314 \textcolor{preprocessor}{\#if defined (STM32F10X\_LD\_VL) || defined (STM32F10X\_MD\_VL) || (defined STM32F10X\_HD\_VL)}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00315}00315   uint32\_t prediv1factor = 0;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00316}00316 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* STM32F10X\_LD\_VL or STM32F10X\_MD\_VL or STM32F10X\_HD\_VL */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00317}00317     }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00318}00318   \textcolor{comment}{/* Get SYSCLK source -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00319}00319   tmp = RCC-\/>CFGR \& \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga15bf2269500dc97e137315f44aa015c9}{RCC\_CFGR\_SWS}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00320}00320   }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00321}00321   \textcolor{keywordflow}{switch} (tmp)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00322}00322   \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00323}00323     \textcolor{keywordflow}{case} 0x00:  \textcolor{comment}{/* HSI used as system clock */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00324}00324       \mbox{\hyperlink{group__STM32F10x__System__Private__Variables_gaa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}} = \mbox{\hyperlink{group__Library__configuration__section_gaaa8c76e274d0f6dd2cefb5d0b17fbc37}{HSI\_VALUE}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00325}00325       \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00326}00326     \textcolor{keywordflow}{case} 0x04:  \textcolor{comment}{/* HSE used as system clock */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00327}00327       \mbox{\hyperlink{group__STM32F10x__System__Private__Variables_gaa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}} = \mbox{\hyperlink{group__Library__configuration__section_gaeafcff4f57440c60e64812dddd13e7cb}{HSE\_VALUE}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00328}00328       \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00329}00329     \textcolor{keywordflow}{case} 0x08:  \textcolor{comment}{/* PLL used as system clock */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00330}00330 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00331}00331       \textcolor{comment}{/* Get PLL clock source and multiplication factor -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00332}00332       pllmull = RCC-\/>CFGR \& \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga9735c088436b547fff3baae2bbaa0426}{RCC\_CFGR\_PLLMULL}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00333}00333       pllsource = RCC-\/>CFGR \& \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gaba4a5dbbd286f07a97f5aa6e6f3f6a57}{RCC\_CFGR\_PLLSRC}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00334}00334       }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00335}00335 \textcolor{preprocessor}{\#ifndef STM32F10X\_CL      }}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00336}00336       pllmull = ( pllmull >> 18) + 2;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00337}00337       }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00338}00338       \textcolor{keywordflow}{if} (pllsource == 0x00)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00339}00339       \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00340}00340         \textcolor{comment}{/* HSI oscillator clock divided by 2 selected as PLL clock entry */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00341}00341         \mbox{\hyperlink{group__STM32F10x__System__Private__Variables_gaa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}} = (\mbox{\hyperlink{group__Library__configuration__section_gaaa8c76e274d0f6dd2cefb5d0b17fbc37}{HSI\_VALUE}} >> 1) * pllmull;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00342}00342       \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00343}00343       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00344}00344       \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00345}00345 \textcolor{preprocessor}{ \#if defined (STM32F10X\_LD\_VL) || defined (STM32F10X\_MD\_VL) || (defined STM32F10X\_HD\_VL)}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00346}00346        prediv1factor = (RCC-\/>CFGR2 \& RCC\_CFGR2\_PREDIV1) + 1;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00347}00347        \textcolor{comment}{/* HSE oscillator clock selected as PREDIV1 clock entry */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00348}00348        \mbox{\hyperlink{group__STM32F10x__System__Private__Variables_gaa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}} = (\mbox{\hyperlink{group__Library__configuration__section_gaeafcff4f57440c60e64812dddd13e7cb}{HSE\_VALUE}} / prediv1factor) * pllmull; }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00349}00349 \textcolor{preprocessor}{ \#else}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00350}00350         \textcolor{comment}{/* HSE selected as PLL clock entry */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00351}00351         \textcolor{keywordflow}{if} ((RCC-\/>CFGR \& \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga39cb6bd06fb93eed1e2fe9da0297810a}{RCC\_CFGR\_PLLXTPRE}}) != (uint32\_t)RESET)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00352}00352         \{\textcolor{comment}{/* HSE oscillator clock divided by 2 */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00353}00353           \mbox{\hyperlink{group__STM32F10x__System__Private__Variables_gaa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}} = (\mbox{\hyperlink{group__Library__configuration__section_gaeafcff4f57440c60e64812dddd13e7cb}{HSE\_VALUE}} >> 1) * pllmull;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00354}00354         \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00355}00355         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00356}00356         \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00357}00357           \mbox{\hyperlink{group__STM32F10x__System__Private__Variables_gaa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}} = \mbox{\hyperlink{group__Library__configuration__section_gaeafcff4f57440c60e64812dddd13e7cb}{HSE\_VALUE}} * pllmull;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00358}00358         \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00359}00359 \textcolor{preprocessor}{ \#endif}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00360}00360       \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00361}00361 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00362}00362       pllmull = pllmull >> 18;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00363}00363       }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00364}00364       \textcolor{keywordflow}{if} (pllmull != 0x0D)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00365}00365       \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00366}00366          pllmull += 2;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00367}00367       \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00368}00368       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00369}00369       \{ \textcolor{comment}{/* PLL multiplication factor = PLL input clock * 6.5 */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00370}00370         pllmull = 13 / 2; }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00371}00371       \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00372}00372             }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00373}00373       \textcolor{keywordflow}{if} (pllsource == 0x00)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00374}00374       \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00375}00375         \textcolor{comment}{/* HSI oscillator clock divided by 2 selected as PLL clock entry */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00376}00376         \mbox{\hyperlink{group__STM32F10x__System__Private__Variables_gaa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}} = (\mbox{\hyperlink{group__Library__configuration__section_gaaa8c76e274d0f6dd2cefb5d0b17fbc37}{HSI\_VALUE}} >> 1) * pllmull;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00377}00377       \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00378}00378       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00379}00379       \{\textcolor{comment}{/* PREDIV1 selected as PLL clock entry */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00380}00380         }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00381}00381         \textcolor{comment}{/* Get PREDIV1 clock source and division factor */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00382}00382         prediv1source = RCC-\/>CFGR2 \& RCC\_CFGR2\_PREDIV1SRC;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00383}00383         prediv1factor = (RCC-\/>CFGR2 \& RCC\_CFGR2\_PREDIV1) + 1;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00384}00384         }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00385}00385         \textcolor{keywordflow}{if} (prediv1source == 0)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00386}00386         \{ }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00387}00387           \textcolor{comment}{/* HSE oscillator clock selected as PREDIV1 clock entry */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00388}00388           \mbox{\hyperlink{group__STM32F10x__System__Private__Variables_gaa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}} = (\mbox{\hyperlink{group__Library__configuration__section_gaeafcff4f57440c60e64812dddd13e7cb}{HSE\_VALUE}} / prediv1factor) * pllmull;          }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00389}00389         \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00390}00390         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00391}00391         \{\textcolor{comment}{/* PLL2 clock selected as PREDIV1 clock entry */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00392}00392           }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00393}00393           \textcolor{comment}{/* Get PREDIV2 division factor and PLL2 multiplication factor */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00394}00394           prediv2factor = ((RCC-\/>CFGR2 \& RCC\_CFGR2\_PREDIV2) >> 4) + 1;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00395}00395           pll2mull = ((RCC-\/>CFGR2 \& RCC\_CFGR2\_PLL2MUL) >> 8 ) + 2; }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00396}00396           \mbox{\hyperlink{group__STM32F10x__System__Private__Variables_gaa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}} = (((\mbox{\hyperlink{group__Library__configuration__section_gaeafcff4f57440c60e64812dddd13e7cb}{HSE\_VALUE}} / prediv2factor) * pll2mull) / prediv1factor) * pllmull;                         }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00397}00397         \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00398}00398       \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00399}00399 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* STM32F10X\_CL */}\textcolor{preprocessor}{ }}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00400}00400       \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00401}00401 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00402}00402     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00403}00403       \mbox{\hyperlink{group__STM32F10x__System__Private__Variables_gaa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}} = \mbox{\hyperlink{group__Library__configuration__section_gaaa8c76e274d0f6dd2cefb5d0b17fbc37}{HSI\_VALUE}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00404}00404       \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00405}00405   \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00406}00406   }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00407}00407   \textcolor{comment}{/* Compute HCLK clock frequency -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00408}00408   \textcolor{comment}{/* Get HCLK prescaler */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00409}00409   tmp = AHBPrescTable[((RCC-\/>CFGR \& \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gafe10e66938644ee8054a2426ff23efea}{RCC\_CFGR\_HPRE}}) >> 4)];}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00410}00410   \textcolor{comment}{/* HCLK clock frequency */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00411}00411   \mbox{\hyperlink{group__STM32F10x__System__Private__Variables_gaa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}} >>= tmp;  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00412}00412 \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00413}00413 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00419}00419 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetSysClock(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00420}00420 \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00421}00421 \textcolor{preprocessor}{\#ifdef SYSCLK\_FREQ\_HSE}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00422}00422   SetSysClockToHSE();}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00423}00423 \textcolor{preprocessor}{\#elif defined SYSCLK\_FREQ\_24MHz}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00424}00424   SetSysClockTo24();}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00425}00425 \textcolor{preprocessor}{\#elif defined SYSCLK\_FREQ\_36MHz}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00426}00426   SetSysClockTo36();}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00427}00427 \textcolor{preprocessor}{\#elif defined SYSCLK\_FREQ\_48MHz}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00428}00428   SetSysClockTo48();}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00429}00429 \textcolor{preprocessor}{\#elif defined SYSCLK\_FREQ\_56MHz}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00430}00430   SetSysClockTo56();  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00431}00431 \textcolor{preprocessor}{\#elif defined SYSCLK\_FREQ\_72MHz}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00432}00432   SetSysClockTo72();}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00433}00433 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00434}00434  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00435}00435  \textcolor{comment}{/* If none of the define above is enabled, the HSI is used as System clock}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00436}00436 \textcolor{comment}{    source (default after reset) */} }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00437}00437 \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00438}00438 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00445}00445 \textcolor{preprocessor}{\#ifdef DATA\_IN\_ExtSRAM}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00455}00455 \textcolor{keywordtype}{void} SystemInit\_ExtMemCtl(\textcolor{keywordtype}{void}) }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00456}00456 \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00460}00460   \textcolor{comment}{/* Enable FSMC clock */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00461}00461   RCC-\/>AHBENR = 0x00000114;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00462}00462   }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00463}00463   \textcolor{comment}{/* Enable GPIOD, GPIOE, GPIOF and GPIOG clocks */}  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00464}00464   RCC-\/>APB2ENR = 0x000001E0;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00465}00465   }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00466}00466 \textcolor{comment}{/* -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/  SRAM Data lines, NOE and NWE configuration -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00467}00467 \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/  SRAM Address lines configuration -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00468}00468 \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/  NOE and NWE configuration -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00469}00469 \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/  NE3 configuration -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00470}00470 \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/  NBL0, NBL1 configuration -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00471}00471   }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00472}00472   GPIOD-\/>CRL = 0x44BB44BB;  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00473}00473   GPIOD-\/>CRH = 0xBBBBBBBB;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00474}00474 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00475}00475   GPIOE-\/>CRL = 0xB44444BB;  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00476}00476   GPIOE-\/>CRH = 0xBBBBBBBB;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00477}00477 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00478}00478   GPIOF-\/>CRL = 0x44BBBBBB;  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00479}00479   GPIOF-\/>CRH = 0xBBBB4444;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00480}00480 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00481}00481   GPIOG-\/>CRL = 0x44BBBBBB;  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00482}00482   GPIOG-\/>CRH = 0x44444B44;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00483}00483    }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00484}00484 \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/  FSMC Configuration -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00485}00485 \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/  Enable FSMC Bank1\_SRAM Bank -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00486}00486   }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00487}00487   FSMC\_Bank1-\/>BTCR[4] = 0x00001011;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00488}00488   FSMC\_Bank1-\/>BTCR[5] = 0x00000200;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00489}00489 \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00490}00490 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* DATA\_IN\_ExtSRAM */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00491}00491 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00492}00492 \textcolor{preprocessor}{\#ifdef SYSCLK\_FREQ\_HSE}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00500}00500 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetSysClockToHSE(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00501}00501 \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00502}00502   \mbox{\hyperlink{core__cm3_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint32\_t StartUpCounter = 0, HSEStatus = 0;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00503}00503   }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00504}00504   \textcolor{comment}{/* SYSCLK, HCLK, PCLK2 and PCLK1 configuration -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}    }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00505}00505   \textcolor{comment}{/* Enable HSE */}    }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00506}00506   RCC-\/>CR |= ((uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gadb8228c9020595b4cf9995137b8c9a7d}{RCC\_CR\_HSEON}});}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00507}00507  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00508}00508   \textcolor{comment}{/* Wait till HSE is ready and if Time out is reached exit */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00509}00509   \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00510}00510   \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00511}00511     HSEStatus = RCC-\/>CR \& \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga86a34e00182c83409d89ff566cb02cc4}{RCC\_CR\_HSERDY}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00512}00512     StartUpCounter++;  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00513}00513   \} \textcolor{keywordflow}{while}((HSEStatus == 0) \&\& (StartUpCounter != \mbox{\hyperlink{group__Library__configuration__section_ga68ecbc9b0a1a40a1ec9d18d5e9747c4f}{HSE\_STARTUP\_TIMEOUT}}));}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00514}00514 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00515}00515   \textcolor{keywordflow}{if} ((RCC-\/>CR \& \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga86a34e00182c83409d89ff566cb02cc4}{RCC\_CR\_HSERDY}}) != RESET)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00516}00516   \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00517}00517     HSEStatus = (uint32\_t)0x01;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00518}00518   \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00519}00519   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00520}00520   \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00521}00521     HSEStatus = (uint32\_t)0x00;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00522}00522   \}  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00523}00523 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00524}00524   \textcolor{keywordflow}{if} (HSEStatus == (uint32\_t)0x01)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00525}00525   \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00526}00526 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00527}00527 \textcolor{preprocessor}{\#if !defined STM32F10X\_LD\_VL \&\& !defined STM32F10X\_MD\_VL \&\& !defined STM32F10X\_HD\_VL}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00528}00528     \textcolor{comment}{/* Enable Prefetch Buffer */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00529}00529     FLASH-\/>ACR |= \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga5285ab198307213dce0629f9b7c6fc86}{FLASH\_ACR\_PRFTBE}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00530}00530 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00531}00531     \textcolor{comment}{/* Flash 0 wait state */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00532}00532     FLASH-\/>ACR \&= (uint32\_t)((uint32\_t)\string~FLASH\_ACR\_LATENCY);}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00533}00533 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00534}00534 \textcolor{preprocessor}{\#ifndef STM32F10X\_CL}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00535}00535     FLASH-\/>ACR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga6560c1d58df18c8740d70591bf7bc1ad}{FLASH\_ACR\_LATENCY\_0}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00536}00536 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00537}00537     \textcolor{keywordflow}{if} (\mbox{\hyperlink{group__Library__configuration__section_gaeafcff4f57440c60e64812dddd13e7cb}{HSE\_VALUE}} <= 24000000)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00538}00538     \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00539}00539       FLASH-\/>ACR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga6560c1d58df18c8740d70591bf7bc1ad}{FLASH\_ACR\_LATENCY\_0}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00540}00540     \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00541}00541     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00542}00542     \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00543}00543       FLASH-\/>ACR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga85155f5d3f34ebe83989513793498c72}{FLASH\_ACR\_LATENCY\_1}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00544}00544     \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00545}00545 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* STM32F10X\_CL */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00546}00546 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00547}00547  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00548}00548     \textcolor{comment}{/* HCLK = SYSCLK */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00549}00549     RCC-\/>CFGR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga2b7d7f29b09a49c31404fc0d44645c84}{RCC\_CFGR\_HPRE\_DIV1}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00550}00550       }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00551}00551     \textcolor{comment}{/* PCLK2 = HCLK */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00552}00552     RCC-\/>CFGR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga247aebf1999a38ea07785558d277bb1a}{RCC\_CFGR\_PPRE2\_DIV1}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00553}00553     }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00554}00554     \textcolor{comment}{/* PCLK1 = HCLK */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00555}00555     RCC-\/>CFGR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gac8f6562bb2ecf65055a2f42cbb48ef11}{RCC\_CFGR\_PPRE1\_DIV1}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00556}00556     }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00557}00557     \textcolor{comment}{/* Select HSE as system clock source */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00558}00558     RCC-\/>CFGR \&= (uint32\_t)((uint32\_t)\string~(\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga0eea5e5f7743a7e8995b8beeb18355c1}{RCC\_CFGR\_SW}}));}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00559}00559     RCC-\/>CFGR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gafb563f217242d969f4355d0818fde705}{RCC\_CFGR\_SW\_HSE}};    }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00560}00560 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00561}00561     \textcolor{comment}{/* Wait till HSE is used as system clock source */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00562}00562     \textcolor{keywordflow}{while} ((RCC-\/>CFGR \& (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga15bf2269500dc97e137315f44aa015c9}{RCC\_CFGR\_SWS}}) != (uint32\_t)0x04)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00563}00563     \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00564}00564     \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00565}00565   \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00566}00566   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00567}00567   \{ \textcolor{comment}{/* If HSE fails to start-\/up, the application will have wrong clock }}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00568}00568 \textcolor{comment}{         configuration. User can add here some code to deal with this error */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00569}00569   \}  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00570}00570 \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00571}00571 \textcolor{preprocessor}{\#elif defined SYSCLK\_FREQ\_24MHz}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00579}00579 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetSysClockTo24(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00580}00580 \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00581}00581   \mbox{\hyperlink{core__cm3_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint32\_t StartUpCounter = 0, HSEStatus = 0;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00582}00582   }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00583}00583   \textcolor{comment}{/* SYSCLK, HCLK, PCLK2 and PCLK1 configuration -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}    }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00584}00584   \textcolor{comment}{/* Enable HSE */}    }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00585}00585   RCC-\/>CR |= ((uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gadb8228c9020595b4cf9995137b8c9a7d}{RCC\_CR\_HSEON}});}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00586}00586  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00587}00587   \textcolor{comment}{/* Wait till HSE is ready and if Time out is reached exit */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00588}00588   \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00589}00589   \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00590}00590     HSEStatus = RCC-\/>CR \& \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga86a34e00182c83409d89ff566cb02cc4}{RCC\_CR\_HSERDY}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00591}00591     StartUpCounter++;  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00592}00592   \} \textcolor{keywordflow}{while}((HSEStatus == 0) \&\& (StartUpCounter != \mbox{\hyperlink{group__Library__configuration__section_ga68ecbc9b0a1a40a1ec9d18d5e9747c4f}{HSE\_STARTUP\_TIMEOUT}}));}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00593}00593 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00594}00594   \textcolor{keywordflow}{if} ((RCC-\/>CR \& \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga86a34e00182c83409d89ff566cb02cc4}{RCC\_CR\_HSERDY}}) != RESET)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00595}00595   \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00596}00596     HSEStatus = (uint32\_t)0x01;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00597}00597   \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00598}00598   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00599}00599   \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00600}00600     HSEStatus = (uint32\_t)0x00;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00601}00601   \}  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00602}00602 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00603}00603   \textcolor{keywordflow}{if} (HSEStatus == (uint32\_t)0x01)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00604}00604   \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00605}00605 \textcolor{preprocessor}{\#if !defined STM32F10X\_LD\_VL \&\& !defined STM32F10X\_MD\_VL \&\& !defined STM32F10X\_HD\_VL }}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00606}00606     \textcolor{comment}{/* Enable Prefetch Buffer */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00607}00607     FLASH-\/>ACR |= \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga5285ab198307213dce0629f9b7c6fc86}{FLASH\_ACR\_PRFTBE}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00608}00608 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00609}00609     \textcolor{comment}{/* Flash 0 wait state */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00610}00610     FLASH-\/>ACR \&= (uint32\_t)((uint32\_t)\string~FLASH\_ACR\_LATENCY);}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00611}00611     FLASH-\/>ACR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga6560c1d58df18c8740d70591bf7bc1ad}{FLASH\_ACR\_LATENCY\_0}};    }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00612}00612 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00613}00613  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00614}00614     \textcolor{comment}{/* HCLK = SYSCLK */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00615}00615     RCC-\/>CFGR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga2b7d7f29b09a49c31404fc0d44645c84}{RCC\_CFGR\_HPRE\_DIV1}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00616}00616       }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00617}00617     \textcolor{comment}{/* PCLK2 = HCLK */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00618}00618     RCC-\/>CFGR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga247aebf1999a38ea07785558d277bb1a}{RCC\_CFGR\_PPRE2\_DIV1}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00619}00619     }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00620}00620     \textcolor{comment}{/* PCLK1 = HCLK */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00621}00621     RCC-\/>CFGR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gac8f6562bb2ecf65055a2f42cbb48ef11}{RCC\_CFGR\_PPRE1\_DIV1}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00622}00622     }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00623}00623 \textcolor{preprocessor}{\#ifdef STM32F10X\_CL}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00624}00624     \textcolor{comment}{/* Configure PLLs -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00625}00625     \textcolor{comment}{/* PLL configuration: PLLCLK = PREDIV1 * 6 = 24 MHz */} }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00626}00626     RCC-\/>CFGR \&= (uint32\_t)\string~(\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga39cb6bd06fb93eed1e2fe9da0297810a}{RCC\_CFGR\_PLLXTPRE}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gaba4a5dbbd286f07a97f5aa6e6f3f6a57}{RCC\_CFGR\_PLLSRC}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga9735c088436b547fff3baae2bbaa0426}{RCC\_CFGR\_PLLMULL}});}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00627}00627     RCC-\/>CFGR |= (uint32\_t)(RCC\_CFGR\_PLLXTPRE\_PREDIV1 | RCC\_CFGR\_PLLSRC\_PREDIV1 | }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00628}00628                             \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga5ea3b717fd226bc6ff5a78b711c051eb}{RCC\_CFGR\_PLLMULL6}}); }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00629}00629 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00630}00630     \textcolor{comment}{/* PLL2 configuration: PLL2CLK = (HSE / 5) * 8 = 40 MHz */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00631}00631     \textcolor{comment}{/* PREDIV1 configuration: PREDIV1CLK = PLL2 / 10 = 4 MHz */}       }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00632}00632     RCC-\/>CFGR2 \&= (uint32\_t)\string~(RCC\_CFGR2\_PREDIV2 | RCC\_CFGR2\_PLL2MUL |}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00633}00633                               RCC\_CFGR2\_PREDIV1 | RCC\_CFGR2\_PREDIV1SRC);}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00634}00634     RCC-\/>CFGR2 |= (uint32\_t)(RCC\_CFGR2\_PREDIV2\_DIV5 | RCC\_CFGR2\_PLL2MUL8 |}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00635}00635                              RCC\_CFGR2\_PREDIV1SRC\_PLL2 | RCC\_CFGR2\_PREDIV1\_DIV10);}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00636}00636   }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00637}00637     \textcolor{comment}{/* Enable PLL2 */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00638}00638     RCC-\/>CR |= RCC\_CR\_PLL2ON;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00639}00639     \textcolor{comment}{/* Wait till PLL2 is ready */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00640}00640     \textcolor{keywordflow}{while}((RCC-\/>CR \& RCC\_CR\_PLL2RDY) == 0)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00641}00641     \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00642}00642     \}   }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00643}00643 \textcolor{preprocessor}{\#elif defined (STM32F10X\_LD\_VL) || defined (STM32F10X\_MD\_VL) || defined (STM32F10X\_HD\_VL)}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00644}00644     \textcolor{comment}{/*  PLL configuration:  = (HSE / 2) * 6 = 24 MHz */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00645}00645     RCC-\/>CFGR \&= (uint32\_t)((uint32\_t)\string~(\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gaba4a5dbbd286f07a97f5aa6e6f3f6a57}{RCC\_CFGR\_PLLSRC}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga39cb6bd06fb93eed1e2fe9da0297810a}{RCC\_CFGR\_PLLXTPRE}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga9735c088436b547fff3baae2bbaa0426}{RCC\_CFGR\_PLLMULL}}));}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00646}00646     RCC-\/>CFGR |= (uint32\_t)(RCC\_CFGR\_PLLSRC\_PREDIV1 | RCC\_CFGR\_PLLXTPRE\_PREDIV1\_Div2 | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga5ea3b717fd226bc6ff5a78b711c051eb}{RCC\_CFGR\_PLLMULL6}});}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00647}00647 \textcolor{preprocessor}{\#else    }}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00648}00648     \textcolor{comment}{/*  PLL configuration:  = (HSE / 2) * 6 = 24 MHz */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00649}00649     RCC-\/>CFGR \&= (uint32\_t)((uint32\_t)\string~(\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gaba4a5dbbd286f07a97f5aa6e6f3f6a57}{RCC\_CFGR\_PLLSRC}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga39cb6bd06fb93eed1e2fe9da0297810a}{RCC\_CFGR\_PLLXTPRE}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga9735c088436b547fff3baae2bbaa0426}{RCC\_CFGR\_PLLMULL}}));}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00650}00650     RCC-\/>CFGR |= (uint32\_t)(\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga5fd58409765f79b08b2b5d86a2c322f4}{RCC\_CFGR\_PLLSRC\_HSE}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga08ff9511dabb7140e85b2b9260087ba8}{RCC\_CFGR\_PLLXTPRE\_HSE\_Div2}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga5ea3b717fd226bc6ff5a78b711c051eb}{RCC\_CFGR\_PLLMULL6}});}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00651}00651 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* STM32F10X\_CL */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00652}00652 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00653}00653     \textcolor{comment}{/* Enable PLL */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00654}00654     RCC-\/>CR |= \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gad0e73d5b0a4883e074d40029b49ee47e}{RCC\_CR\_PLLON}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00655}00655 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00656}00656     \textcolor{comment}{/* Wait till PLL is ready */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00657}00657     \textcolor{keywordflow}{while}((RCC-\/>CR \& \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gafa12d7ac6a7f0f91d066aeb2c6071888}{RCC\_CR\_PLLRDY}}) == 0)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00658}00658     \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00659}00659     \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00660}00660 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00661}00661     \textcolor{comment}{/* Select PLL as system clock source */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00662}00662     RCC-\/>CFGR \&= (uint32\_t)((uint32\_t)\string~(\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga0eea5e5f7743a7e8995b8beeb18355c1}{RCC\_CFGR\_SW}}));}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00663}00663     RCC-\/>CFGR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga87389cacb2eaf53730da13a2a33cd487}{RCC\_CFGR\_SW\_PLL}};    }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00664}00664 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00665}00665     \textcolor{comment}{/* Wait till PLL is used as system clock source */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00666}00666     \textcolor{keywordflow}{while} ((RCC-\/>CFGR \& (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga15bf2269500dc97e137315f44aa015c9}{RCC\_CFGR\_SWS}}) != (uint32\_t)0x08)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00667}00667     \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00668}00668     \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00669}00669   \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00670}00670   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00671}00671   \{ \textcolor{comment}{/* If HSE fails to start-\/up, the application will have wrong clock }}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00672}00672 \textcolor{comment}{         configuration. User can add here some code to deal with this error */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00673}00673   \} }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00674}00674 \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00675}00675 \textcolor{preprocessor}{\#elif defined SYSCLK\_FREQ\_36MHz}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00683}00683 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetSysClockTo36(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00684}00684 \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00685}00685   \mbox{\hyperlink{core__cm3_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint32\_t StartUpCounter = 0, HSEStatus = 0;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00686}00686   }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00687}00687   \textcolor{comment}{/* SYSCLK, HCLK, PCLK2 and PCLK1 configuration -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}    }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00688}00688   \textcolor{comment}{/* Enable HSE */}    }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00689}00689   RCC-\/>CR |= ((uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gadb8228c9020595b4cf9995137b8c9a7d}{RCC\_CR\_HSEON}});}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00690}00690  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00691}00691   \textcolor{comment}{/* Wait till HSE is ready and if Time out is reached exit */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00692}00692   \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00693}00693   \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00694}00694     HSEStatus = RCC-\/>CR \& \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga86a34e00182c83409d89ff566cb02cc4}{RCC\_CR\_HSERDY}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00695}00695     StartUpCounter++;  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00696}00696   \} \textcolor{keywordflow}{while}((HSEStatus == 0) \&\& (StartUpCounter != \mbox{\hyperlink{group__Library__configuration__section_ga68ecbc9b0a1a40a1ec9d18d5e9747c4f}{HSE\_STARTUP\_TIMEOUT}}));}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00697}00697 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00698}00698   \textcolor{keywordflow}{if} ((RCC-\/>CR \& \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga86a34e00182c83409d89ff566cb02cc4}{RCC\_CR\_HSERDY}}) != RESET)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00699}00699   \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00700}00700     HSEStatus = (uint32\_t)0x01;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00701}00701   \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00702}00702   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00703}00703   \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00704}00704     HSEStatus = (uint32\_t)0x00;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00705}00705   \}  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00706}00706 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00707}00707   \textcolor{keywordflow}{if} (HSEStatus == (uint32\_t)0x01)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00708}00708   \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00709}00709     \textcolor{comment}{/* Enable Prefetch Buffer */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00710}00710     FLASH-\/>ACR |= \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga5285ab198307213dce0629f9b7c6fc86}{FLASH\_ACR\_PRFTBE}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00711}00711 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00712}00712     \textcolor{comment}{/* Flash 1 wait state */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00713}00713     FLASH-\/>ACR \&= (uint32\_t)((uint32\_t)\string~FLASH\_ACR\_LATENCY);}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00714}00714     FLASH-\/>ACR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga85155f5d3f34ebe83989513793498c72}{FLASH\_ACR\_LATENCY\_1}};    }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00715}00715  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00716}00716     \textcolor{comment}{/* HCLK = SYSCLK */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00717}00717     RCC-\/>CFGR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga2b7d7f29b09a49c31404fc0d44645c84}{RCC\_CFGR\_HPRE\_DIV1}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00718}00718       }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00719}00719     \textcolor{comment}{/* PCLK2 = HCLK */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00720}00720     RCC-\/>CFGR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga247aebf1999a38ea07785558d277bb1a}{RCC\_CFGR\_PPRE2\_DIV1}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00721}00721     }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00722}00722     \textcolor{comment}{/* PCLK1 = HCLK */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00723}00723     RCC-\/>CFGR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gac8f6562bb2ecf65055a2f42cbb48ef11}{RCC\_CFGR\_PPRE1\_DIV1}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00724}00724     }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00725}00725 \textcolor{preprocessor}{\#ifdef STM32F10X\_CL}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00726}00726     \textcolor{comment}{/* Configure PLLs -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00727}00727     }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00728}00728     \textcolor{comment}{/* PLL configuration: PLLCLK = PREDIV1 * 9 = 36 MHz */} }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00729}00729     RCC-\/>CFGR \&= (uint32\_t)\string~(\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga39cb6bd06fb93eed1e2fe9da0297810a}{RCC\_CFGR\_PLLXTPRE}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gaba4a5dbbd286f07a97f5aa6e6f3f6a57}{RCC\_CFGR\_PLLSRC}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga9735c088436b547fff3baae2bbaa0426}{RCC\_CFGR\_PLLMULL}});}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00730}00730     RCC-\/>CFGR |= (uint32\_t)(RCC\_CFGR\_PLLXTPRE\_PREDIV1 | RCC\_CFGR\_PLLSRC\_PREDIV1 | }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00731}00731                             \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga384c396ec051b958c9a5781c13faf7e5}{RCC\_CFGR\_PLLMULL9}}); }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00732}00732 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00734}00734     \textcolor{comment}{/* PREDIV1 configuration: PREDIV1CLK = PLL2 / 10 = 4 MHz */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00735}00735         }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00736}00736     RCC-\/>CFGR2 \&= (uint32\_t)\string~(RCC\_CFGR2\_PREDIV2 | RCC\_CFGR2\_PLL2MUL |}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00737}00737                               RCC\_CFGR2\_PREDIV1 | RCC\_CFGR2\_PREDIV1SRC);}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00738}00738     RCC-\/>CFGR2 |= (uint32\_t)(RCC\_CFGR2\_PREDIV2\_DIV5 | RCC\_CFGR2\_PLL2MUL8 |}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00739}00739                              RCC\_CFGR2\_PREDIV1SRC\_PLL2 | RCC\_CFGR2\_PREDIV1\_DIV10);}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00740}00740   }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00741}00741     \textcolor{comment}{/* Enable PLL2 */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00742}00742     RCC-\/>CR |= RCC\_CR\_PLL2ON;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00743}00743     \textcolor{comment}{/* Wait till PLL2 is ready */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00744}00744     \textcolor{keywordflow}{while}((RCC-\/>CR \& RCC\_CR\_PLL2RDY) == 0)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00745}00745     \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00746}00746     \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00747}00747     }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00748}00748 \textcolor{preprocessor}{\#else    }}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00749}00749     \textcolor{comment}{/*  PLL configuration: PLLCLK = (HSE / 2) * 9 = 36 MHz */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00750}00750     RCC-\/>CFGR \&= (uint32\_t)((uint32\_t)\string~(\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gaba4a5dbbd286f07a97f5aa6e6f3f6a57}{RCC\_CFGR\_PLLSRC}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga39cb6bd06fb93eed1e2fe9da0297810a}{RCC\_CFGR\_PLLXTPRE}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga9735c088436b547fff3baae2bbaa0426}{RCC\_CFGR\_PLLMULL}}));}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00751}00751     RCC-\/>CFGR |= (uint32\_t)(\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga5fd58409765f79b08b2b5d86a2c322f4}{RCC\_CFGR\_PLLSRC\_HSE}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga08ff9511dabb7140e85b2b9260087ba8}{RCC\_CFGR\_PLLXTPRE\_HSE\_Div2}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga384c396ec051b958c9a5781c13faf7e5}{RCC\_CFGR\_PLLMULL9}});}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00752}00752 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* STM32F10X\_CL */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00753}00753 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00754}00754     \textcolor{comment}{/* Enable PLL */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00755}00755     RCC-\/>CR |= \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gad0e73d5b0a4883e074d40029b49ee47e}{RCC\_CR\_PLLON}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00756}00756 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00757}00757     \textcolor{comment}{/* Wait till PLL is ready */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00758}00758     \textcolor{keywordflow}{while}((RCC-\/>CR \& \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gafa12d7ac6a7f0f91d066aeb2c6071888}{RCC\_CR\_PLLRDY}}) == 0)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00759}00759     \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00760}00760     \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00761}00761 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00762}00762     \textcolor{comment}{/* Select PLL as system clock source */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00763}00763     RCC-\/>CFGR \&= (uint32\_t)((uint32\_t)\string~(\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga0eea5e5f7743a7e8995b8beeb18355c1}{RCC\_CFGR\_SW}}));}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00764}00764     RCC-\/>CFGR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga87389cacb2eaf53730da13a2a33cd487}{RCC\_CFGR\_SW\_PLL}};    }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00765}00765 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00766}00766     \textcolor{comment}{/* Wait till PLL is used as system clock source */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00767}00767     \textcolor{keywordflow}{while} ((RCC-\/>CFGR \& (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga15bf2269500dc97e137315f44aa015c9}{RCC\_CFGR\_SWS}}) != (uint32\_t)0x08)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00768}00768     \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00769}00769     \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00770}00770   \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00771}00771   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00772}00772   \{ \textcolor{comment}{/* If HSE fails to start-\/up, the application will have wrong clock }}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00773}00773 \textcolor{comment}{         configuration. User can add here some code to deal with this error */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00774}00774   \} }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00775}00775 \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00776}00776 \textcolor{preprocessor}{\#elif defined SYSCLK\_FREQ\_48MHz}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00784}00784 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetSysClockTo48(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00785}00785 \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00786}00786   \mbox{\hyperlink{core__cm3_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint32\_t StartUpCounter = 0, HSEStatus = 0;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00787}00787   }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00788}00788   \textcolor{comment}{/* SYSCLK, HCLK, PCLK2 and PCLK1 configuration -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}    }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00789}00789   \textcolor{comment}{/* Enable HSE */}    }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00790}00790   RCC-\/>CR |= ((uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gadb8228c9020595b4cf9995137b8c9a7d}{RCC\_CR\_HSEON}});}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00791}00791  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00792}00792   \textcolor{comment}{/* Wait till HSE is ready and if Time out is reached exit */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00793}00793   \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00794}00794   \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00795}00795     HSEStatus = RCC-\/>CR \& \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga86a34e00182c83409d89ff566cb02cc4}{RCC\_CR\_HSERDY}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00796}00796     StartUpCounter++;  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00797}00797   \} \textcolor{keywordflow}{while}((HSEStatus == 0) \&\& (StartUpCounter != \mbox{\hyperlink{group__Library__configuration__section_ga68ecbc9b0a1a40a1ec9d18d5e9747c4f}{HSE\_STARTUP\_TIMEOUT}}));}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00798}00798 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00799}00799   \textcolor{keywordflow}{if} ((RCC-\/>CR \& \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga86a34e00182c83409d89ff566cb02cc4}{RCC\_CR\_HSERDY}}) != RESET)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00800}00800   \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00801}00801     HSEStatus = (uint32\_t)0x01;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00802}00802   \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00803}00803   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00804}00804   \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00805}00805     HSEStatus = (uint32\_t)0x00;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00806}00806   \}  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00807}00807 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00808}00808   \textcolor{keywordflow}{if} (HSEStatus == (uint32\_t)0x01)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00809}00809   \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00810}00810     \textcolor{comment}{/* Enable Prefetch Buffer */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00811}00811     FLASH-\/>ACR |= \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga5285ab198307213dce0629f9b7c6fc86}{FLASH\_ACR\_PRFTBE}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00812}00812 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00813}00813     \textcolor{comment}{/* Flash 1 wait state */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00814}00814     FLASH-\/>ACR \&= (uint32\_t)((uint32\_t)\string~FLASH\_ACR\_LATENCY);}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00815}00815     FLASH-\/>ACR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga85155f5d3f34ebe83989513793498c72}{FLASH\_ACR\_LATENCY\_1}};    }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00816}00816  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00817}00817     \textcolor{comment}{/* HCLK = SYSCLK */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00818}00818     RCC-\/>CFGR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga2b7d7f29b09a49c31404fc0d44645c84}{RCC\_CFGR\_HPRE\_DIV1}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00819}00819       }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00820}00820     \textcolor{comment}{/* PCLK2 = HCLK */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00821}00821     RCC-\/>CFGR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga247aebf1999a38ea07785558d277bb1a}{RCC\_CFGR\_PPRE2\_DIV1}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00822}00822     }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00823}00823     \textcolor{comment}{/* PCLK1 = HCLK */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00824}00824     RCC-\/>CFGR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gaf832ad6844c907d9bb37c1536defcb0d}{RCC\_CFGR\_PPRE1\_DIV2}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00825}00825     }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00826}00826 \textcolor{preprocessor}{\#ifdef STM32F10X\_CL}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00827}00827     \textcolor{comment}{/* Configure PLLs -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00828}00828     \textcolor{comment}{/* PLL2 configuration: PLL2CLK = (HSE / 5) * 8 = 40 MHz */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00829}00829     \textcolor{comment}{/* PREDIV1 configuration: PREDIV1CLK = PLL2 / 5 = 8 MHz */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00830}00830         }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00831}00831     RCC-\/>CFGR2 \&= (uint32\_t)\string~(RCC\_CFGR2\_PREDIV2 | RCC\_CFGR2\_PLL2MUL |}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00832}00832                               RCC\_CFGR2\_PREDIV1 | RCC\_CFGR2\_PREDIV1SRC);}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00833}00833     RCC-\/>CFGR2 |= (uint32\_t)(RCC\_CFGR2\_PREDIV2\_DIV5 | RCC\_CFGR2\_PLL2MUL8 |}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00834}00834                              RCC\_CFGR2\_PREDIV1SRC\_PLL2 | RCC\_CFGR2\_PREDIV1\_DIV5);}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00835}00835   }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00836}00836     \textcolor{comment}{/* Enable PLL2 */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00837}00837     RCC-\/>CR |= RCC\_CR\_PLL2ON;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00838}00838     \textcolor{comment}{/* Wait till PLL2 is ready */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00839}00839     \textcolor{keywordflow}{while}((RCC-\/>CR \& RCC\_CR\_PLL2RDY) == 0)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00840}00840     \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00841}00841     \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00842}00842     }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00843}00843    }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00844}00844     \textcolor{comment}{/* PLL configuration: PLLCLK = PREDIV1 * 6 = 48 MHz */} }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00845}00845     RCC-\/>CFGR \&= (uint32\_t)\string~(\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga39cb6bd06fb93eed1e2fe9da0297810a}{RCC\_CFGR\_PLLXTPRE}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gaba4a5dbbd286f07a97f5aa6e6f3f6a57}{RCC\_CFGR\_PLLSRC}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga9735c088436b547fff3baae2bbaa0426}{RCC\_CFGR\_PLLMULL}});}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00846}00846     RCC-\/>CFGR |= (uint32\_t)(RCC\_CFGR\_PLLXTPRE\_PREDIV1 | RCC\_CFGR\_PLLSRC\_PREDIV1 | }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00847}00847                             \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga5ea3b717fd226bc6ff5a78b711c051eb}{RCC\_CFGR\_PLLMULL6}}); }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00848}00848 \textcolor{preprocessor}{\#else    }}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00849}00849     \textcolor{comment}{/*  PLL configuration: PLLCLK = HSE * 6 = 48 MHz */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00850}00850     RCC-\/>CFGR \&= (uint32\_t)((uint32\_t)\string~(\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gaba4a5dbbd286f07a97f5aa6e6f3f6a57}{RCC\_CFGR\_PLLSRC}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga39cb6bd06fb93eed1e2fe9da0297810a}{RCC\_CFGR\_PLLXTPRE}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga9735c088436b547fff3baae2bbaa0426}{RCC\_CFGR\_PLLMULL}}));}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00851}00851     RCC-\/>CFGR |= (uint32\_t)(\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga5fd58409765f79b08b2b5d86a2c322f4}{RCC\_CFGR\_PLLSRC\_HSE}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga5ea3b717fd226bc6ff5a78b711c051eb}{RCC\_CFGR\_PLLMULL6}});}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00852}00852 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* STM32F10X\_CL */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00853}00853 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00854}00854     \textcolor{comment}{/* Enable PLL */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00855}00855     RCC-\/>CR |= \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gad0e73d5b0a4883e074d40029b49ee47e}{RCC\_CR\_PLLON}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00856}00856 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00857}00857     \textcolor{comment}{/* Wait till PLL is ready */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00858}00858     \textcolor{keywordflow}{while}((RCC-\/>CR \& \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gafa12d7ac6a7f0f91d066aeb2c6071888}{RCC\_CR\_PLLRDY}}) == 0)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00859}00859     \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00860}00860     \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00861}00861 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00862}00862     \textcolor{comment}{/* Select PLL as system clock source */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00863}00863     RCC-\/>CFGR \&= (uint32\_t)((uint32\_t)\string~(\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga0eea5e5f7743a7e8995b8beeb18355c1}{RCC\_CFGR\_SW}}));}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00864}00864     RCC-\/>CFGR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga87389cacb2eaf53730da13a2a33cd487}{RCC\_CFGR\_SW\_PLL}};    }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00865}00865 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00866}00866     \textcolor{comment}{/* Wait till PLL is used as system clock source */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00867}00867     \textcolor{keywordflow}{while} ((RCC-\/>CFGR \& (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga15bf2269500dc97e137315f44aa015c9}{RCC\_CFGR\_SWS}}) != (uint32\_t)0x08)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00868}00868     \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00869}00869     \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00870}00870   \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00871}00871   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00872}00872   \{ \textcolor{comment}{/* If HSE fails to start-\/up, the application will have wrong clock }}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00873}00873 \textcolor{comment}{         configuration. User can add here some code to deal with this error */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00874}00874   \} }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00875}00875 \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00876}00876 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00877}00877 \textcolor{preprocessor}{\#elif defined SYSCLK\_FREQ\_56MHz}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00885}00885 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetSysClockTo56(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00886}00886 \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00887}00887   \mbox{\hyperlink{core__cm3_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint32\_t StartUpCounter = 0, HSEStatus = 0;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00888}00888   }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00889}00889   \textcolor{comment}{/* SYSCLK, HCLK, PCLK2 and PCLK1 configuration -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}   }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00890}00890   \textcolor{comment}{/* Enable HSE */}    }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00891}00891   RCC-\/>CR |= ((uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gadb8228c9020595b4cf9995137b8c9a7d}{RCC\_CR\_HSEON}});}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00892}00892  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00893}00893   \textcolor{comment}{/* Wait till HSE is ready and if Time out is reached exit */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00894}00894   \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00895}00895   \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00896}00896     HSEStatus = RCC-\/>CR \& \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga86a34e00182c83409d89ff566cb02cc4}{RCC\_CR\_HSERDY}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00897}00897     StartUpCounter++;  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00898}00898   \} \textcolor{keywordflow}{while}((HSEStatus == 0) \&\& (StartUpCounter != \mbox{\hyperlink{group__Library__configuration__section_ga68ecbc9b0a1a40a1ec9d18d5e9747c4f}{HSE\_STARTUP\_TIMEOUT}}));}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00899}00899 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00900}00900   \textcolor{keywordflow}{if} ((RCC-\/>CR \& \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga86a34e00182c83409d89ff566cb02cc4}{RCC\_CR\_HSERDY}}) != RESET)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00901}00901   \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00902}00902     HSEStatus = (uint32\_t)0x01;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00903}00903   \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00904}00904   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00905}00905   \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00906}00906     HSEStatus = (uint32\_t)0x00;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00907}00907   \}  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00908}00908 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00909}00909   \textcolor{keywordflow}{if} (HSEStatus == (uint32\_t)0x01)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00910}00910   \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00911}00911     \textcolor{comment}{/* Enable Prefetch Buffer */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00912}00912     FLASH-\/>ACR |= \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga5285ab198307213dce0629f9b7c6fc86}{FLASH\_ACR\_PRFTBE}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00913}00913 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00914}00914     \textcolor{comment}{/* Flash 2 wait state */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00915}00915     FLASH-\/>ACR \&= (uint32\_t)((uint32\_t)\string~FLASH\_ACR\_LATENCY);}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00916}00916     FLASH-\/>ACR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga61b5089d0c86db787ebef496c9057918}{FLASH\_ACR\_LATENCY\_2}};    }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00917}00917  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00918}00918     \textcolor{comment}{/* HCLK = SYSCLK */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00919}00919     RCC-\/>CFGR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga2b7d7f29b09a49c31404fc0d44645c84}{RCC\_CFGR\_HPRE\_DIV1}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00920}00920       }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00921}00921     \textcolor{comment}{/* PCLK2 = HCLK */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00922}00922     RCC-\/>CFGR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga247aebf1999a38ea07785558d277bb1a}{RCC\_CFGR\_PPRE2\_DIV1}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00923}00923     }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00924}00924     \textcolor{comment}{/* PCLK1 = HCLK */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00925}00925     RCC-\/>CFGR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gaf832ad6844c907d9bb37c1536defcb0d}{RCC\_CFGR\_PPRE1\_DIV2}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00926}00926 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00927}00927 \textcolor{preprocessor}{\#ifdef STM32F10X\_CL}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00928}00928     \textcolor{comment}{/* Configure PLLs -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00929}00929     \textcolor{comment}{/* PLL2 configuration: PLL2CLK = (HSE / 5) * 8 = 40 MHz */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00930}00930     \textcolor{comment}{/* PREDIV1 configuration: PREDIV1CLK = PLL2 / 5 = 8 MHz */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00931}00931         }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00932}00932     RCC-\/>CFGR2 \&= (uint32\_t)\string~(RCC\_CFGR2\_PREDIV2 | RCC\_CFGR2\_PLL2MUL |}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00933}00933                               RCC\_CFGR2\_PREDIV1 | RCC\_CFGR2\_PREDIV1SRC);}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00934}00934     RCC-\/>CFGR2 |= (uint32\_t)(RCC\_CFGR2\_PREDIV2\_DIV5 | RCC\_CFGR2\_PLL2MUL8 |}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00935}00935                              RCC\_CFGR2\_PREDIV1SRC\_PLL2 | RCC\_CFGR2\_PREDIV1\_DIV5);}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00936}00936   }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00937}00937     \textcolor{comment}{/* Enable PLL2 */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00938}00938     RCC-\/>CR |= RCC\_CR\_PLL2ON;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00939}00939     \textcolor{comment}{/* Wait till PLL2 is ready */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00940}00940     \textcolor{keywordflow}{while}((RCC-\/>CR \& RCC\_CR\_PLL2RDY) == 0)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00941}00941     \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00942}00942     \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00943}00943     }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00944}00944    }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00945}00945     \textcolor{comment}{/* PLL configuration: PLLCLK = PREDIV1 * 7 = 56 MHz */} }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00946}00946     RCC-\/>CFGR \&= (uint32\_t)\string~(\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga39cb6bd06fb93eed1e2fe9da0297810a}{RCC\_CFGR\_PLLXTPRE}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gaba4a5dbbd286f07a97f5aa6e6f3f6a57}{RCC\_CFGR\_PLLSRC}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga9735c088436b547fff3baae2bbaa0426}{RCC\_CFGR\_PLLMULL}});}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00947}00947     RCC-\/>CFGR |= (uint32\_t)(RCC\_CFGR\_PLLXTPRE\_PREDIV1 | RCC\_CFGR\_PLLSRC\_PREDIV1 | }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00948}00948                             \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga6ff8d8dcf3876d1c85657680a64c1696}{RCC\_CFGR\_PLLMULL7}}); }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00949}00949 \textcolor{preprocessor}{\#else     }}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00950}00950     \textcolor{comment}{/* PLL configuration: PLLCLK = HSE * 7 = 56 MHz */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00951}00951     RCC-\/>CFGR \&= (uint32\_t)((uint32\_t)\string~(\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gaba4a5dbbd286f07a97f5aa6e6f3f6a57}{RCC\_CFGR\_PLLSRC}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga39cb6bd06fb93eed1e2fe9da0297810a}{RCC\_CFGR\_PLLXTPRE}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga9735c088436b547fff3baae2bbaa0426}{RCC\_CFGR\_PLLMULL}}));}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00952}00952     RCC-\/>CFGR |= (uint32\_t)(\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga5fd58409765f79b08b2b5d86a2c322f4}{RCC\_CFGR\_PLLSRC\_HSE}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga6ff8d8dcf3876d1c85657680a64c1696}{RCC\_CFGR\_PLLMULL7}});}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00953}00953 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00954}00954 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* STM32F10X\_CL */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00955}00955 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00956}00956     \textcolor{comment}{/* Enable PLL */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00957}00957     RCC-\/>CR |= \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gad0e73d5b0a4883e074d40029b49ee47e}{RCC\_CR\_PLLON}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00958}00958 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00959}00959     \textcolor{comment}{/* Wait till PLL is ready */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00960}00960     \textcolor{keywordflow}{while}((RCC-\/>CR \& \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gafa12d7ac6a7f0f91d066aeb2c6071888}{RCC\_CR\_PLLRDY}}) == 0)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00961}00961     \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00962}00962     \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00963}00963 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00964}00964     \textcolor{comment}{/* Select PLL as system clock source */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00965}00965     RCC-\/>CFGR \&= (uint32\_t)((uint32\_t)\string~(\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga0eea5e5f7743a7e8995b8beeb18355c1}{RCC\_CFGR\_SW}}));}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00966}00966     RCC-\/>CFGR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga87389cacb2eaf53730da13a2a33cd487}{RCC\_CFGR\_SW\_PLL}};    }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00967}00967 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00968}00968     \textcolor{comment}{/* Wait till PLL is used as system clock source */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00969}00969     \textcolor{keywordflow}{while} ((RCC-\/>CFGR \& (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga15bf2269500dc97e137315f44aa015c9}{RCC\_CFGR\_SWS}}) != (uint32\_t)0x08)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00970}00970     \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00971}00971     \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00972}00972   \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00973}00973   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00974}00974   \{ \textcolor{comment}{/* If HSE fails to start-\/up, the application will have wrong clock }}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00975}00975 \textcolor{comment}{         configuration. User can add here some code to deal with this error */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00976}00976   \} }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00977}00977 \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00978}00978 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00979}00979 \textcolor{preprocessor}{\#elif defined SYSCLK\_FREQ\_72MHz}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00987}00987 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetSysClockTo72(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00988}00988 \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00989}00989   \mbox{\hyperlink{core__cm3_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint32\_t StartUpCounter = 0, HSEStatus = 0;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00990}00990   }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00991}00991   \textcolor{comment}{/* SYSCLK, HCLK, PCLK2 and PCLK1 configuration -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}    }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00992}00992   \textcolor{comment}{/* Enable HSE */}    }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00993}00993   RCC-\/>CR |= ((uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gadb8228c9020595b4cf9995137b8c9a7d}{RCC\_CR\_HSEON}});}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00994}00994  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00995}00995   \textcolor{comment}{/* Wait till HSE is ready and if Time out is reached exit */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00996}00996   \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00997}00997   \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00998}00998     HSEStatus = RCC-\/>CR \& \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga86a34e00182c83409d89ff566cb02cc4}{RCC\_CR\_HSERDY}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l00999}00999     StartUpCounter++;  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01000}01000   \} \textcolor{keywordflow}{while}((HSEStatus == 0) \&\& (StartUpCounter != \mbox{\hyperlink{group__Library__configuration__section_ga68ecbc9b0a1a40a1ec9d18d5e9747c4f}{HSE\_STARTUP\_TIMEOUT}}));}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01001}01001 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01002}01002   \textcolor{keywordflow}{if} ((RCC-\/>CR \& \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga86a34e00182c83409d89ff566cb02cc4}{RCC\_CR\_HSERDY}}) != RESET)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01003}01003   \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01004}01004     HSEStatus = (uint32\_t)0x01;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01005}01005   \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01006}01006   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01007}01007   \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01008}01008     HSEStatus = (uint32\_t)0x00;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01009}01009   \}  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01010}01010 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01011}01011   \textcolor{keywordflow}{if} (HSEStatus == (uint32\_t)0x01)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01012}01012   \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01013}01013     \textcolor{comment}{/* Enable Prefetch Buffer */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01014}01014     FLASH-\/>ACR |= \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga5285ab198307213dce0629f9b7c6fc86}{FLASH\_ACR\_PRFTBE}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01015}01015 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01016}01016     \textcolor{comment}{/* Flash 2 wait state */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01017}01017     FLASH-\/>ACR \&= (uint32\_t)((uint32\_t)\string~FLASH\_ACR\_LATENCY);}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01018}01018     FLASH-\/>ACR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga61b5089d0c86db787ebef496c9057918}{FLASH\_ACR\_LATENCY\_2}};    }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01019}01019 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01020}01020  }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01021}01021     \textcolor{comment}{/* HCLK = SYSCLK */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01022}01022     RCC-\/>CFGR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga2b7d7f29b09a49c31404fc0d44645c84}{RCC\_CFGR\_HPRE\_DIV1}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01023}01023       }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01024}01024     \textcolor{comment}{/* PCLK2 = HCLK */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01025}01025     RCC-\/>CFGR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga247aebf1999a38ea07785558d277bb1a}{RCC\_CFGR\_PPRE2\_DIV1}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01026}01026     }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01027}01027     \textcolor{comment}{/* PCLK1 = HCLK */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01028}01028     RCC-\/>CFGR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gaf832ad6844c907d9bb37c1536defcb0d}{RCC\_CFGR\_PPRE1\_DIV2}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01029}01029 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01030}01030 \textcolor{preprocessor}{\#ifdef STM32F10X\_CL}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01031}01031     \textcolor{comment}{/* Configure PLLs -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01032}01032     \textcolor{comment}{/* PLL2 configuration: PLL2CLK = (HSE / 5) * 8 = 40 MHz */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01033}01033     \textcolor{comment}{/* PREDIV1 configuration: PREDIV1CLK = PLL2 / 5 = 8 MHz */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01034}01034         }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01035}01035     RCC-\/>CFGR2 \&= (uint32\_t)\string~(RCC\_CFGR2\_PREDIV2 | RCC\_CFGR2\_PLL2MUL |}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01036}01036                               RCC\_CFGR2\_PREDIV1 | RCC\_CFGR2\_PREDIV1SRC);}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01037}01037     RCC-\/>CFGR2 |= (uint32\_t)(RCC\_CFGR2\_PREDIV2\_DIV5 | RCC\_CFGR2\_PLL2MUL8 |}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01038}01038                              RCC\_CFGR2\_PREDIV1SRC\_PLL2 | RCC\_CFGR2\_PREDIV1\_DIV5);}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01039}01039   }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01040}01040     \textcolor{comment}{/* Enable PLL2 */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01041}01041     RCC-\/>CR |= RCC\_CR\_PLL2ON;}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01042}01042     \textcolor{comment}{/* Wait till PLL2 is ready */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01043}01043     \textcolor{keywordflow}{while}((RCC-\/>CR \& RCC\_CR\_PLL2RDY) == 0)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01044}01044     \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01045}01045     \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01046}01046     }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01047}01047    }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01048}01048     \textcolor{comment}{/* PLL configuration: PLLCLK = PREDIV1 * 9 = 72 MHz */} }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01049}01049     RCC-\/>CFGR \&= (uint32\_t)\string~(\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga39cb6bd06fb93eed1e2fe9da0297810a}{RCC\_CFGR\_PLLXTPRE}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gaba4a5dbbd286f07a97f5aa6e6f3f6a57}{RCC\_CFGR\_PLLSRC}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga9735c088436b547fff3baae2bbaa0426}{RCC\_CFGR\_PLLMULL}});}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01050}01050     RCC-\/>CFGR |= (uint32\_t)(RCC\_CFGR\_PLLXTPRE\_PREDIV1 | RCC\_CFGR\_PLLSRC\_PREDIV1 | }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01051}01051                             \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga384c396ec051b958c9a5781c13faf7e5}{RCC\_CFGR\_PLLMULL9}}); }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01052}01052 \textcolor{preprocessor}{\#else    }}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01053}01053     \textcolor{comment}{/*  PLL configuration: PLLCLK = HSE * 9 = 72 MHz */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01054}01054     RCC-\/>CFGR \&= (uint32\_t)((uint32\_t)\string~(\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gaba4a5dbbd286f07a97f5aa6e6f3f6a57}{RCC\_CFGR\_PLLSRC}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga39cb6bd06fb93eed1e2fe9da0297810a}{RCC\_CFGR\_PLLXTPRE}} |}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01055}01055                                         \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga9735c088436b547fff3baae2bbaa0426}{RCC\_CFGR\_PLLMULL}}));}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01056}01056     RCC-\/>CFGR |= (uint32\_t)(\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga5fd58409765f79b08b2b5d86a2c322f4}{RCC\_CFGR\_PLLSRC\_HSE}} | \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga384c396ec051b958c9a5781c13faf7e5}{RCC\_CFGR\_PLLMULL9}});}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01057}01057 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* STM32F10X\_CL */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01058}01058 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01059}01059     \textcolor{comment}{/* Enable PLL */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01060}01060     RCC-\/>CR |= \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gad0e73d5b0a4883e074d40029b49ee47e}{RCC\_CR\_PLLON}};}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01061}01061 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01062}01062     \textcolor{comment}{/* Wait till PLL is ready */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01063}01063     \textcolor{keywordflow}{while}((RCC-\/>CR \& \mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_gafa12d7ac6a7f0f91d066aeb2c6071888}{RCC\_CR\_PLLRDY}}) == 0)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01064}01064     \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01065}01065     \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01066}01066     }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01067}01067     \textcolor{comment}{/* Select PLL as system clock source */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01068}01068     RCC-\/>CFGR \&= (uint32\_t)((uint32\_t)\string~(\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga0eea5e5f7743a7e8995b8beeb18355c1}{RCC\_CFGR\_SW}}));}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01069}01069     RCC-\/>CFGR |= (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga87389cacb2eaf53730da13a2a33cd487}{RCC\_CFGR\_SW\_PLL}};    }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01070}01070 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01071}01071     \textcolor{comment}{/* Wait till PLL is used as system clock source */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01072}01072     \textcolor{keywordflow}{while} ((RCC-\/>CFGR \& (uint32\_t)\mbox{\hyperlink{group__Peripheral__Registers__Bits__Definition_ga15bf2269500dc97e137315f44aa015c9}{RCC\_CFGR\_SWS}}) != (uint32\_t)0x08)}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01073}01073     \{}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01074}01074     \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01075}01075   \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01076}01076   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01077}01077   \{ \textcolor{comment}{/* If HSE fails to start-\/up, the application will have wrong clock }}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01078}01078 \textcolor{comment}{         configuration. User can add here some code to deal with this error */}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01079}01079   \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01080}01080 \}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01081}01081 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01082}01082 }
\DoxyCodeLine{\Hypertarget{system__stm32f10x_8c_source_l01094}01094 \textcolor{comment}{/******************* (C) COPYRIGHT 2011 STMicroelectronics *****END OF FILE****/}}

\end{DoxyCode}
