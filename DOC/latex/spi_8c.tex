\hypertarget{spi_8c}{}\doxysection{BLUE\+\_\+\+LIB/src/spi.c File Reference}
\label{spi_8c}\index{BLUE\_LIB/src/spi.c@{BLUE\_LIB/src/spi.c}}


\texorpdfstring{$<$}{<}Abstraction of SPI initialization, read, write operations\texorpdfstring{$>$}{>}  


{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include \char`\"{}spi.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}stm32f10x.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}gpio.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{spi_8c_a303b3e50ffd8777f40325d2dd1720622}{SPI\+\_\+\+Init}} (\mbox{\hyperlink{structSPI__TypeDef}{SPI\+\_\+\+Type\+Def}} $\ast$SPIx, uint8\+\_\+t mode, uint8\+\_\+t c\+\_\+pol, uint8\+\_\+t c\+\_\+phase, uint8\+\_\+t first\+\_\+tr\+\_\+bit, uint8\+\_\+t size\+\_\+data)
\begin{DoxyCompactList}\small\item\em function to Initialization SPI Peripheral \end{DoxyCompactList}\item 
void \mbox{\hyperlink{spi_8c_a57bf47f4b56ecf48278a6ed1417c05a3}{SPI\+\_\+\+Set\+\_\+\+Clk\+\_\+\+Prescaler}} (\mbox{\hyperlink{structSPI__TypeDef}{SPI\+\_\+\+Type\+Def}} $\ast$SPIx, uint32\+\_\+t prescaler)
\begin{DoxyCompactList}\small\item\em function to set clock prescaler for SCLK pin \end{DoxyCompactList}\item 
uint16\+\_\+t \mbox{\hyperlink{spi_8c_a7efc18f6772eb2a8628c34f8b9d5d44c}{SPI\+\_\+\+Send\+Byte}} (\mbox{\hyperlink{structSPI__TypeDef}{SPI\+\_\+\+Type\+Def}} $\ast$SPIx, uint16\+\_\+t data)
\begin{DoxyCompactList}\small\item\em function to Send byte in buffer register \end{DoxyCompactList}\item 
void \mbox{\hyperlink{spi_8c_aa310dbda1260e34e36232a99e1981b59}{SPI\+\_\+\+Write\+Reg}} (\mbox{\hyperlink{structSPI__TypeDef}{SPI\+\_\+\+Type\+Def}} $\ast$SPIx, uint16\+\_\+t address, uint16\+\_\+t value)
\begin{DoxyCompactList}\small\item\em function to write SPI register \end{DoxyCompactList}\item 
uint16\+\_\+t \mbox{\hyperlink{spi_8c_ab75a177e7293c4f241058aa64153b17d}{SPI\+\_\+\+Read\+Reg}} (\mbox{\hyperlink{structSPI__TypeDef}{SPI\+\_\+\+Type\+Def}} $\ast$SPIx, uint16\+\_\+t address)
\begin{DoxyCompactList}\small\item\em function to Read byte from Rx buffer register \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\texorpdfstring{$<$}{<}Abstraction of SPI initialization, read, write operations\texorpdfstring{$>$}{>} 

\texorpdfstring{$>$}{>}

This implementation file provides an abstraction of initialization, read and write to SPI

\begin{DoxyAuthor}{Author}
$<$\+Kaushal dekivadia$>$ 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
\texorpdfstring{$<$}{<}sept 13 2021\texorpdfstring{$>$}{>} 
\end{DoxyDate}


Definition in file \mbox{\hyperlink{spi_8c_source}{spi.\+c}}.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{spi_8c_a303b3e50ffd8777f40325d2dd1720622}\label{spi_8c_a303b3e50ffd8777f40325d2dd1720622}} 
\index{spi.c@{spi.c}!SPI\_Init@{SPI\_Init}}
\index{SPI\_Init@{SPI\_Init}!spi.c@{spi.c}}
\doxysubsubsection{\texorpdfstring{SPI\_Init()}{SPI\_Init()}}
{\footnotesize\ttfamily void SPI\+\_\+\+Init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structSPI__TypeDef}{SPI\+\_\+\+Type\+Def}} $\ast$}]{SPIx,  }\item[{uint8\+\_\+t}]{mode,  }\item[{uint8\+\_\+t}]{c\+\_\+pol,  }\item[{uint8\+\_\+t}]{c\+\_\+phase,  }\item[{uint8\+\_\+t}]{first\+\_\+tr\+\_\+bit,  }\item[{uint8\+\_\+t}]{size\+\_\+data }\end{DoxyParamCaption})}



function to Initialization SPI Peripheral 


\begin{DoxyParams}{Parameters}
{\em SPIx} & -\/ SPI peripherel number (SPI1 or SPI2 ) \\
\hline
{\em mode} & -\/ mode of SPI (MASTER or SLAVE) \\
\hline
{\em c\+\_\+pol} & -\/ clock polarity (0 or 1) \\
\hline
{\em c\+\_\+phase} & -\/ clock phase (0 or 1) \\
\hline
{\em first\+\_\+tr\+\_\+bit} & -\/ firsr transmitted bit (MSB or LSB) \\
\hline
{\em size\+\_\+data} & -\/ data frame size (8 or 16)\\
\hline
\end{DoxyParams}
This function initialize SPI peripheral and defines various specifications

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
Enable clock for SPI1 and Alternate function IO

GPIO-\/\+Pin initialization for SPI1

NSS1 pin -\/ A4-\/ (Chip select)

SCK1 pin -\/ A5 -\/ (seriel clk output)

MISO pin -\/ A6 -\/ (Master in slave out)

MOSI pin -\/ A7 -\/ (Master out slave in)

Definition at line \mbox{\hyperlink{spi_8c_source_l00019}{19}} of file \mbox{\hyperlink{spi_8c_source}{spi.\+c}}.

\mbox{\Hypertarget{spi_8c_ab75a177e7293c4f241058aa64153b17d}\label{spi_8c_ab75a177e7293c4f241058aa64153b17d}} 
\index{spi.c@{spi.c}!SPI\_ReadReg@{SPI\_ReadReg}}
\index{SPI\_ReadReg@{SPI\_ReadReg}!spi.c@{spi.c}}
\doxysubsubsection{\texorpdfstring{SPI\_ReadReg()}{SPI\_ReadReg()}}
{\footnotesize\ttfamily uint16\+\_\+t SPI\+\_\+\+Read\+Reg (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structSPI__TypeDef}{SPI\+\_\+\+Type\+Def}} $\ast$}]{SPIx,  }\item[{uint16\+\_\+t}]{address }\end{DoxyParamCaption})}



function to Read byte from Rx buffer register 


\begin{DoxyParams}{Parameters}
{\em SPIx} & -\/ SPI peripherel number (SPI1 or SPI2 ) \\
\hline
{\em address} & -\/ address of slave register\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/ 8 or 16 bit recieved data 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{spi_8c_source_l00150}{150}} of file \mbox{\hyperlink{spi_8c_source}{spi.\+c}}.

\mbox{\Hypertarget{spi_8c_a7efc18f6772eb2a8628c34f8b9d5d44c}\label{spi_8c_a7efc18f6772eb2a8628c34f8b9d5d44c}} 
\index{spi.c@{spi.c}!SPI\_SendByte@{SPI\_SendByte}}
\index{SPI\_SendByte@{SPI\_SendByte}!spi.c@{spi.c}}
\doxysubsubsection{\texorpdfstring{SPI\_SendByte()}{SPI\_SendByte()}}
{\footnotesize\ttfamily uint16\+\_\+t SPI\+\_\+\+Send\+Byte (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structSPI__TypeDef}{SPI\+\_\+\+Type\+Def}} $\ast$}]{SPIx,  }\item[{uint16\+\_\+t}]{data }\end{DoxyParamCaption})}



function to Send byte in buffer register 


\begin{DoxyParams}{Parameters}
{\em SPIx} & -\/ SPI peripherel number (SPI1 or SPI2 ) \\
\hline
{\em data} & -\/ 8 or 16 bit data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/ 8 or 16 bit recieved data 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{spi_8c_source_l00133}{133}} of file \mbox{\hyperlink{spi_8c_source}{spi.\+c}}.

\mbox{\Hypertarget{spi_8c_a57bf47f4b56ecf48278a6ed1417c05a3}\label{spi_8c_a57bf47f4b56ecf48278a6ed1417c05a3}} 
\index{spi.c@{spi.c}!SPI\_Set\_Clk\_Prescaler@{SPI\_Set\_Clk\_Prescaler}}
\index{SPI\_Set\_Clk\_Prescaler@{SPI\_Set\_Clk\_Prescaler}!spi.c@{spi.c}}
\doxysubsubsection{\texorpdfstring{SPI\_Set\_Clk\_Prescaler()}{SPI\_Set\_Clk\_Prescaler()}}
{\footnotesize\ttfamily void SPI\+\_\+\+Set\+\_\+\+Clk\+\_\+\+Prescaler (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structSPI__TypeDef}{SPI\+\_\+\+Type\+Def}} $\ast$}]{SPIx,  }\item[{uint32\+\_\+t}]{prescaler }\end{DoxyParamCaption})}



function to set clock prescaler for SCLK pin 


\begin{DoxyParams}{Parameters}
{\em SPIx} & -\/ SPI peripherel number (SPI1 or SPI2 ) \\
\hline
{\em prescaler} & -\/ prescaler (2,4,8,16,32,64,128,256)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{spi_8c_source_l00096}{96}} of file \mbox{\hyperlink{spi_8c_source}{spi.\+c}}.

\mbox{\Hypertarget{spi_8c_aa310dbda1260e34e36232a99e1981b59}\label{spi_8c_aa310dbda1260e34e36232a99e1981b59}} 
\index{spi.c@{spi.c}!SPI\_WriteReg@{SPI\_WriteReg}}
\index{SPI\_WriteReg@{SPI\_WriteReg}!spi.c@{spi.c}}
\doxysubsubsection{\texorpdfstring{SPI\_WriteReg()}{SPI\_WriteReg()}}
{\footnotesize\ttfamily void SPI\+\_\+\+Write\+Reg (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structSPI__TypeDef}{SPI\+\_\+\+Type\+Def}} $\ast$}]{SPIx,  }\item[{uint16\+\_\+t}]{address,  }\item[{uint16\+\_\+t}]{value }\end{DoxyParamCaption})}



function to write SPI register 


\begin{DoxyParams}{Parameters}
{\em SPIx} & -\/ SPI peripherel number (SPI1 or SPI2 ) \\
\hline
{\em address} & -\/ address of slave register \\
\hline
{\em value} & -\/ 8 or 16 bit data to be send\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/ void 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{spi_8c_source_l00143}{143}} of file \mbox{\hyperlink{spi_8c_source}{spi.\+c}}.

