\hypertarget{spi_8h}{}\doxysection{BLUE\+\_\+\+LIB/include/common/spi.h File Reference}
\label{spi_8h}\index{BLUE\_LIB/include/common/spi.h@{BLUE\_LIB/include/common/spi.h}}


\texorpdfstring{$<$}{<}header file for declaration \& Documantation of functions and MACROs of \mbox{\hyperlink{spi_8c}{spi.\+c}}\texorpdfstring{$>$}{>}  


{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include \char`\"{}stm32f10x.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}gpio.\+h\char`\"{}}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{spi_8h_a3fa2d3bf1901157f734a584d47b25d8b}{MASTER}}~0U
\item 
\#define \mbox{\hyperlink{spi_8h_ae342da5a4630c191c1c983958808edd8}{SLAVE}}~1U
\item 
\#define \mbox{\hyperlink{spi_8h_a11f27b3b63dfc15c4b4fbb665a3ce3fe}{MSB}}~2U
\item 
\#define \mbox{\hyperlink{spi_8h_a525d3ca9955b22e489a749a548831a1d}{LSB}}~3U
\item 
\#define \mbox{\hyperlink{spi_8h_a6e2a5533479e340eede4b668d134b5db}{SPI\+\_\+\+NSS\+\_\+\+ON}}(SPIx)~( (SPIx == SPI1) ? (\mbox{\hyperlink{gpio_8c_a09d672f2d0a30df5fa2aeed48b26faf8}{GPIO\+\_\+\+Reset}}(GPIOA,4)) \+: (\mbox{\hyperlink{gpio_8c_a09d672f2d0a30df5fa2aeed48b26faf8}{GPIO\+\_\+\+Reset}}(GPIOB,12)))
\item 
\#define \mbox{\hyperlink{spi_8h_a1f7aa08eb9cf48288121f5c6107e63c1}{SPI\+\_\+\+NSS\+\_\+\+OFF}}(SPIx)~( (SPIx == SPI1) ? (\mbox{\hyperlink{gpio_8c_a514d27b265cd6a37452a2a56d118c590}{GPIO\+\_\+\+Set}}(GPIOA,4)) \+: (\mbox{\hyperlink{gpio_8c_a514d27b265cd6a37452a2a56d118c590}{GPIO\+\_\+\+Set}}(GPIOB,12)))
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{spi_8h_a303b3e50ffd8777f40325d2dd1720622}{SPI\+\_\+\+Init}} (\mbox{\hyperlink{structSPI__TypeDef}{SPI\+\_\+\+Type\+Def}} $\ast$SPIx, uint8\+\_\+t mode, uint8\+\_\+t c\+\_\+pol, uint8\+\_\+t c\+\_\+phase, uint8\+\_\+t first\+\_\+tr\+\_\+bit, uint8\+\_\+t size\+\_\+data)
\begin{DoxyCompactList}\small\item\em function to Initialization SPI Peripheral \end{DoxyCompactList}\item 
void \mbox{\hyperlink{spi_8h_a57bf47f4b56ecf48278a6ed1417c05a3}{SPI\+\_\+\+Set\+\_\+\+Clk\+\_\+\+Prescaler}} (\mbox{\hyperlink{structSPI__TypeDef}{SPI\+\_\+\+Type\+Def}} $\ast$SPIx, uint32\+\_\+t prescaler)
\begin{DoxyCompactList}\small\item\em function to set clock prescaler for SCLK pin \end{DoxyCompactList}\item 
uint16\+\_\+t \mbox{\hyperlink{spi_8h_a7efc18f6772eb2a8628c34f8b9d5d44c}{SPI\+\_\+\+Send\+Byte}} (\mbox{\hyperlink{structSPI__TypeDef}{SPI\+\_\+\+Type\+Def}} $\ast$SPIx, uint16\+\_\+t data)
\begin{DoxyCompactList}\small\item\em function to Send byte in buffer register \end{DoxyCompactList}\item 
void \mbox{\hyperlink{spi_8h_aa310dbda1260e34e36232a99e1981b59}{SPI\+\_\+\+Write\+Reg}} (\mbox{\hyperlink{structSPI__TypeDef}{SPI\+\_\+\+Type\+Def}} $\ast$SPIx, uint16\+\_\+t address, uint16\+\_\+t value)
\begin{DoxyCompactList}\small\item\em function to write SPI register \end{DoxyCompactList}\item 
uint16\+\_\+t \mbox{\hyperlink{spi_8h_ab75a177e7293c4f241058aa64153b17d}{SPI\+\_\+\+Read\+Reg}} (\mbox{\hyperlink{structSPI__TypeDef}{SPI\+\_\+\+Type\+Def}} $\ast$SPIx, uint16\+\_\+t address)
\begin{DoxyCompactList}\small\item\em function to Read byte from Rx buffer register \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\texorpdfstring{$<$}{<}header file for declaration \& Documantation of functions and MACROs of \mbox{\hyperlink{spi_8c}{spi.\+c}}\texorpdfstring{$>$}{>} 

\texorpdfstring{$>$}{>}

This implementation file provides declaration for functions to initialize, read and write SPI for stm32f10xx microcontrollers

\begin{DoxyAuthor}{Author}
$<$\+Kaushal dekivadia$>$ 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
\texorpdfstring{$<$}{<}sept 13 2021\texorpdfstring{$>$}{>} 
\end{DoxyDate}


Definition in file \mbox{\hyperlink{spi_8h_source}{spi.\+h}}.



\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{spi_8h_a525d3ca9955b22e489a749a548831a1d}\label{spi_8h_a525d3ca9955b22e489a749a548831a1d}} 
\index{spi.h@{spi.h}!LSB@{LSB}}
\index{LSB@{LSB}!spi.h@{spi.h}}
\doxysubsubsection{\texorpdfstring{LSB}{LSB}}
{\footnotesize\ttfamily \#define LSB~3U}



Definition at line \mbox{\hyperlink{spi_8h_source_l00024}{24}} of file \mbox{\hyperlink{spi_8h_source}{spi.\+h}}.

\mbox{\Hypertarget{spi_8h_a3fa2d3bf1901157f734a584d47b25d8b}\label{spi_8h_a3fa2d3bf1901157f734a584d47b25d8b}} 
\index{spi.h@{spi.h}!MASTER@{MASTER}}
\index{MASTER@{MASTER}!spi.h@{spi.h}}
\doxysubsubsection{\texorpdfstring{MASTER}{MASTER}}
{\footnotesize\ttfamily \#define MASTER~0U}



Definition at line \mbox{\hyperlink{spi_8h_source_l00020}{20}} of file \mbox{\hyperlink{spi_8h_source}{spi.\+h}}.

\mbox{\Hypertarget{spi_8h_a11f27b3b63dfc15c4b4fbb665a3ce3fe}\label{spi_8h_a11f27b3b63dfc15c4b4fbb665a3ce3fe}} 
\index{spi.h@{spi.h}!MSB@{MSB}}
\index{MSB@{MSB}!spi.h@{spi.h}}
\doxysubsubsection{\texorpdfstring{MSB}{MSB}}
{\footnotesize\ttfamily \#define MSB~2U}



Definition at line \mbox{\hyperlink{spi_8h_source_l00023}{23}} of file \mbox{\hyperlink{spi_8h_source}{spi.\+h}}.

\mbox{\Hypertarget{spi_8h_ae342da5a4630c191c1c983958808edd8}\label{spi_8h_ae342da5a4630c191c1c983958808edd8}} 
\index{spi.h@{spi.h}!SLAVE@{SLAVE}}
\index{SLAVE@{SLAVE}!spi.h@{spi.h}}
\doxysubsubsection{\texorpdfstring{SLAVE}{SLAVE}}
{\footnotesize\ttfamily \#define SLAVE~1U}



Definition at line \mbox{\hyperlink{spi_8h_source_l00021}{21}} of file \mbox{\hyperlink{spi_8h_source}{spi.\+h}}.

\mbox{\Hypertarget{spi_8h_a1f7aa08eb9cf48288121f5c6107e63c1}\label{spi_8h_a1f7aa08eb9cf48288121f5c6107e63c1}} 
\index{spi.h@{spi.h}!SPI\_NSS\_OFF@{SPI\_NSS\_OFF}}
\index{SPI\_NSS\_OFF@{SPI\_NSS\_OFF}!spi.h@{spi.h}}
\doxysubsubsection{\texorpdfstring{SPI\_NSS\_OFF}{SPI\_NSS\_OFF}}
{\footnotesize\ttfamily \#define SPI\+\_\+\+NSS\+\_\+\+OFF(\begin{DoxyParamCaption}\item[{}]{SPIx }\end{DoxyParamCaption})~( (SPIx == SPI1) ? (\mbox{\hyperlink{gpio_8c_a514d27b265cd6a37452a2a56d118c590}{GPIO\+\_\+\+Set}}(GPIOA,4)) \+: (\mbox{\hyperlink{gpio_8c_a514d27b265cd6a37452a2a56d118c590}{GPIO\+\_\+\+Set}}(GPIOB,12)))}



Definition at line \mbox{\hyperlink{spi_8h_source_l00029}{29}} of file \mbox{\hyperlink{spi_8h_source}{spi.\+h}}.

\mbox{\Hypertarget{spi_8h_a6e2a5533479e340eede4b668d134b5db}\label{spi_8h_a6e2a5533479e340eede4b668d134b5db}} 
\index{spi.h@{spi.h}!SPI\_NSS\_ON@{SPI\_NSS\_ON}}
\index{SPI\_NSS\_ON@{SPI\_NSS\_ON}!spi.h@{spi.h}}
\doxysubsubsection{\texorpdfstring{SPI\_NSS\_ON}{SPI\_NSS\_ON}}
{\footnotesize\ttfamily \#define SPI\+\_\+\+NSS\+\_\+\+ON(\begin{DoxyParamCaption}\item[{}]{SPIx }\end{DoxyParamCaption})~( (SPIx == SPI1) ? (\mbox{\hyperlink{gpio_8c_a09d672f2d0a30df5fa2aeed48b26faf8}{GPIO\+\_\+\+Reset}}(GPIOA,4)) \+: (\mbox{\hyperlink{gpio_8c_a09d672f2d0a30df5fa2aeed48b26faf8}{GPIO\+\_\+\+Reset}}(GPIOB,12)))}



Definition at line \mbox{\hyperlink{spi_8h_source_l00027}{27}} of file \mbox{\hyperlink{spi_8h_source}{spi.\+h}}.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{spi_8h_a303b3e50ffd8777f40325d2dd1720622}\label{spi_8h_a303b3e50ffd8777f40325d2dd1720622}} 
\index{spi.h@{spi.h}!SPI\_Init@{SPI\_Init}}
\index{SPI\_Init@{SPI\_Init}!spi.h@{spi.h}}
\doxysubsubsection{\texorpdfstring{SPI\_Init()}{SPI\_Init()}}
{\footnotesize\ttfamily void SPI\+\_\+\+Init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structSPI__TypeDef}{SPI\+\_\+\+Type\+Def}} $\ast$}]{SPIx,  }\item[{uint8\+\_\+t}]{mode,  }\item[{uint8\+\_\+t}]{c\+\_\+pol,  }\item[{uint8\+\_\+t}]{c\+\_\+phase,  }\item[{uint8\+\_\+t}]{first\+\_\+tr\+\_\+bit,  }\item[{uint8\+\_\+t}]{size\+\_\+data }\end{DoxyParamCaption})}



function to Initialization SPI Peripheral 


\begin{DoxyParams}{Parameters}
{\em SPIx} & -\/ SPI peripherel number (SPI1 or SPI2 ) \\
\hline
{\em mode} & -\/ mode of SPI (MASTER or SLAVE) \\
\hline
{\em c\+\_\+pol} & -\/ clock polarity (0 or 1) \\
\hline
{\em c\+\_\+phase} & -\/ clock phase (0 or 1) \\
\hline
{\em first\+\_\+tr\+\_\+bit} & -\/ firsr transmitted bit (MSB or LSB) \\
\hline
{\em size\+\_\+data} & -\/ data frame size (8 or 16)\\
\hline
\end{DoxyParams}
This function initialize SPI peripheral and defines various specifications

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
Enable clock for SPI1 and Alternate function IO

GPIO-\/\+Pin initialization for SPI1

NSS1 pin -\/ A4-\/ (Chip select)

SCK1 pin -\/ A5 -\/ (seriel clk output)

MISO pin -\/ A6 -\/ (Master in slave out)

MOSI pin -\/ A7 -\/ (Master out slave in)

Definition at line \mbox{\hyperlink{spi_8c_source_l00019}{19}} of file \mbox{\hyperlink{spi_8c_source}{spi.\+c}}.

\mbox{\Hypertarget{spi_8h_ab75a177e7293c4f241058aa64153b17d}\label{spi_8h_ab75a177e7293c4f241058aa64153b17d}} 
\index{spi.h@{spi.h}!SPI\_ReadReg@{SPI\_ReadReg}}
\index{SPI\_ReadReg@{SPI\_ReadReg}!spi.h@{spi.h}}
\doxysubsubsection{\texorpdfstring{SPI\_ReadReg()}{SPI\_ReadReg()}}
{\footnotesize\ttfamily uint16\+\_\+t SPI\+\_\+\+Read\+Reg (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structSPI__TypeDef}{SPI\+\_\+\+Type\+Def}} $\ast$}]{SPIx,  }\item[{uint16\+\_\+t}]{address }\end{DoxyParamCaption})}



function to Read byte from Rx buffer register 


\begin{DoxyParams}{Parameters}
{\em SPIx} & -\/ SPI peripherel number (SPI1 or SPI2 ) \\
\hline
{\em address} & -\/ address of slave register\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/ 8 or 16 bit recieved data 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{spi_8c_source_l00150}{150}} of file \mbox{\hyperlink{spi_8c_source}{spi.\+c}}.

\mbox{\Hypertarget{spi_8h_a7efc18f6772eb2a8628c34f8b9d5d44c}\label{spi_8h_a7efc18f6772eb2a8628c34f8b9d5d44c}} 
\index{spi.h@{spi.h}!SPI\_SendByte@{SPI\_SendByte}}
\index{SPI\_SendByte@{SPI\_SendByte}!spi.h@{spi.h}}
\doxysubsubsection{\texorpdfstring{SPI\_SendByte()}{SPI\_SendByte()}}
{\footnotesize\ttfamily uint16\+\_\+t SPI\+\_\+\+Send\+Byte (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structSPI__TypeDef}{SPI\+\_\+\+Type\+Def}} $\ast$}]{SPIx,  }\item[{uint16\+\_\+t}]{data }\end{DoxyParamCaption})}



function to Send byte in buffer register 


\begin{DoxyParams}{Parameters}
{\em SPIx} & -\/ SPI peripherel number (SPI1 or SPI2 ) \\
\hline
{\em data} & -\/ 8 or 16 bit data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/ 8 or 16 bit recieved data 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{spi_8c_source_l00133}{133}} of file \mbox{\hyperlink{spi_8c_source}{spi.\+c}}.

\mbox{\Hypertarget{spi_8h_a57bf47f4b56ecf48278a6ed1417c05a3}\label{spi_8h_a57bf47f4b56ecf48278a6ed1417c05a3}} 
\index{spi.h@{spi.h}!SPI\_Set\_Clk\_Prescaler@{SPI\_Set\_Clk\_Prescaler}}
\index{SPI\_Set\_Clk\_Prescaler@{SPI\_Set\_Clk\_Prescaler}!spi.h@{spi.h}}
\doxysubsubsection{\texorpdfstring{SPI\_Set\_Clk\_Prescaler()}{SPI\_Set\_Clk\_Prescaler()}}
{\footnotesize\ttfamily void SPI\+\_\+\+Set\+\_\+\+Clk\+\_\+\+Prescaler (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structSPI__TypeDef}{SPI\+\_\+\+Type\+Def}} $\ast$}]{SPIx,  }\item[{uint32\+\_\+t}]{prescaler }\end{DoxyParamCaption})}



function to set clock prescaler for SCLK pin 


\begin{DoxyParams}{Parameters}
{\em SPIx} & -\/ SPI peripherel number (SPI1 or SPI2 ) \\
\hline
{\em prescaler} & -\/ prescaler (2,4,8,16,32,64,128,256)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{spi_8c_source_l00096}{96}} of file \mbox{\hyperlink{spi_8c_source}{spi.\+c}}.

\mbox{\Hypertarget{spi_8h_aa310dbda1260e34e36232a99e1981b59}\label{spi_8h_aa310dbda1260e34e36232a99e1981b59}} 
\index{spi.h@{spi.h}!SPI\_WriteReg@{SPI\_WriteReg}}
\index{SPI\_WriteReg@{SPI\_WriteReg}!spi.h@{spi.h}}
\doxysubsubsection{\texorpdfstring{SPI\_WriteReg()}{SPI\_WriteReg()}}
{\footnotesize\ttfamily void SPI\+\_\+\+Write\+Reg (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structSPI__TypeDef}{SPI\+\_\+\+Type\+Def}} $\ast$}]{SPIx,  }\item[{uint16\+\_\+t}]{address,  }\item[{uint16\+\_\+t}]{value }\end{DoxyParamCaption})}



function to write SPI register 


\begin{DoxyParams}{Parameters}
{\em SPIx} & -\/ SPI peripherel number (SPI1 or SPI2 ) \\
\hline
{\em address} & -\/ address of slave register \\
\hline
{\em value} & -\/ 8 or 16 bit data to be send\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/ void 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{spi_8c_source_l00143}{143}} of file \mbox{\hyperlink{spi_8c_source}{spi.\+c}}.

